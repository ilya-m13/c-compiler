#include <gtest/gtest.h>

#include <sstream>

class CLexerTest : public ::testing::Test {
  protected:
    std::istringstream in_string;
    std::ostringstream result;

    void SetUp() override {
        in_string = std::istringstream("0\n"
                                       "123\n"
                                       "\"string\"\n"
                                       "\"\"\n"
                                       "void\n"
                                       "int\n"
                                       "char\n"
                                       "float\n"
                                       "double\n"
                                       "short\n"
                                       "long\n"
                                       "const\n"
                                       "signed\n"
                                       "unsigned\n"
                                       "static\n"
                                       "enum\n"
                                       "struct\n"
                                       "union\n"
                                       "<stdio.h>\n"
                                       "#include\n"
                                       "typedef\n"
                                       "return\n"
                                       "sizeof\n"
                                       "continue\n"
                                       "break\n"
                                       "for\n"
                                       "while\n"
                                       "do\n"
                                       "if\n"
                                       "else\n"
                                       "switch\n"
                                       "case\n"
                                       "(\n"
                                       ")\n"
                                       "[\n"
                                       "]\n"
                                       "{\n"
                                       "}\n"
                                       ",\n"
                                       ";\n"
                                       ":\n"
                                       ".\n"
                                       "+\n"
                                       "-\n"
                                       "*\n"
                                       "/\n"
                                       "%\n"
                                       "==\n"
                                       "!=\n"
                                       ">\n"
                                       "<\n"
                                       ">=\n"
                                       "<=\n"
                                       "!\n"
                                       "&&\n"
                                       "||\n"
                                       "=\n"
                                       "+=\n"
                                       "-=\n"
                                       "*=\n"
                                       "/=\n"
                                       "%=\n"
                                       "++\n"
                                       "--\n"
                                       "/*comment\n"
                                       "newline*/\n"
                                       "//comment\n"
                                       "identifier123_\n"
                                       "_identifier123\n");
        result = std::ostringstream("Loc=<1:0>\tINTEGER '0'\n"
                                    "Loc=<2:0>\tINTEGER '123'\n"
                                    "Loc=<3:0>\tSTRING '\"string\"'\n"
                                    "Loc=<4:0>\tSTRING '\"\"'\n"
                                    "Loc=<5:0>\tVOID 'void'\n"
                                    "Loc=<6:0>\tINT 'int'\n"
                                    "Loc=<7:0>\tCHAR 'char'\n"
                                    "Loc=<8:0>\tFLOAT 'float'\n"
                                    "Loc=<9:0>\tDOUBLE 'double'\n"
                                    "Loc=<10:0>\tSHORT 'short'\n"
                                    "Loc=<11:0>\tLONG 'long'\n"
                                    "Loc=<12:0>\tCONST 'const'\n"
                                    "Loc=<13:0>\tSIGNED 'signed'\n"
                                    "Loc=<14:0>\tUNSIGNED 'unsigned'\n"
                                    "Loc=<15:0>\tSTATIC 'static'\n"
                                    "Loc=<16:0>\tENUM 'enum'\n"
                                    "Loc=<17:0>\tSTRUCT 'struct'\n"
                                    "Loc=<18:0>\tUNION 'union'\n"
                                    "Loc=<19:0>\tHEADER_FILE '<stdio.h>'\n"
                                    "Loc=<20:0>\tINCLUDE '#include'\n"
                                    "Loc=<21:0>\tTYPEDEF 'typedef'\n"
                                    "Loc=<22:0>\tRETURN 'return'\n"
                                    "Loc=<23:0>\tSIZEOF 'sizeof'\n"
                                    "Loc=<24:0>\tCONTINUE 'continue'\n"
                                    "Loc=<25:0>\tBREAK 'break'\n"
                                    "Loc=<26:0>\tFOR 'for'\n"
                                    "Loc=<27:0>\tWHILE 'while'\n"
                                    "Loc=<28:0>\tDO 'do'\n"
                                    "Loc=<29:0>\tIF 'if'\n"
                                    "Loc=<30:0>\tELSE 'else'\n"
                                    "Loc=<31:0>\tSWITCH 'switch'\n"
                                    "Loc=<32:0>\tCASE 'case'\n"
                                    "Loc=<33:0>\tOPENPAR '('\n"
                                    "Loc=<34:0>\tCLOSEPAR ')'\n"
                                    "Loc=<35:0>\tLBRACKET '['\n"
                                    "Loc=<36:0>\tRBRACKET ']'\n"
                                    "Loc=<37:0>\tLBRACE '{'\n"
                                    "Loc=<38:0>\tRBRACE '}'\n"
                                    "Loc=<39:0>\tCOMMA ','\n"
                                    "Loc=<40:0>\tSEMICOLON ';'\n"
                                    "Loc=<41:0>\tCOLON ':'\n"
                                    "Loc=<42:0>\tPERIOD '.'\n"
                                    "Loc=<43:0>\tADD '+'\n"
                                    "Loc=<44:0>\tSUB '-'\n"
                                    "Loc=<45:0>\tMULTIP '*'\n"
                                    "Loc=<46:0>\tDIV '/'\n"
                                    "Loc=<47:0>\tMODULO '%'\n"
                                    "Loc=<48:0>\tEQUAL '=='\n"
                                    "Loc=<49:0>\tNOT_EQUAL '!='\n"
                                    "Loc=<50:0>\tGREATER_THAN '>'\n"
                                    "Loc=<51:0>\tLESS_THAN '<'\n"
                                    "Loc=<52:0>\tGREATER_EQUAL '>='\n"
                                    "Loc=<53:0>\tLESS_EQUAL '<='\n"
                                    "Loc=<54:0>\tNOT '!'\n"
                                    "Loc=<55:0>\tAND '&&'\n"
                                    "Loc=<56:0>\tOR '||'\n"
                                    "Loc=<57:0>\tASSIGN '='\n"
                                    "Loc=<58:0>\tADD_ASSIGN '+='\n"
                                    "Loc=<59:0>\tSUB_ASSIGN '-='\n"
                                    "Loc=<60:0>\tMULTIP_ASSIGN '*='\n"
                                    "Loc=<61:0>\tDIV_ASSIGN '/='\n"
                                    "Loc=<62:0>\tMODULO_ASSIGN '%='\n"
                                    "Loc=<63:0>\tINCREMENT '++'\n"
                                    "Loc=<64:0>\tDECREMENT '--'\n"
                                    "Loc=<65:0>\tCOMMENT_NEWLINE '/*comment\n"
                                    "newline*/'\n"
                                    "Loc=<67:0>\tCOMMENT '//comment\n'\n"
                                    "Loc=<68:0>\tID 'identifier123_'\n"
                                    "Loc=<69:0>\tID '_identifier123'\n");
    }
};